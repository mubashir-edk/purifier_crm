{% comment %} {% extends "home.html" %}

{% block content %}

    <form method="post" action="">
        {% csrf_token %}
        <div class="p-3 pb-3 register-content">

            {% comment %} {{form.as_p}} {% endcomment %}

            <span class="register-text d-flex justify-content-center">Register User</span>
            <div class="mt-4">
                <label for="id_username" class="form-label">Username</label>
                <input type="text" name="username" class="form-control" id="id_username" placeholder="username">
            </div>

            <div class="d-md-flex mt-md-4 justify-md-content-between">
                <div class="mt-4 mt-md-0 me-md-1 reg-password-container">
                    <label for="id_password1" class="form-label">Password</label>
                    <input type="password" name="password1" class="form-control" id="id_password1" placeholder="password">
                    <i class="bi bi-eye-fill toggle-password-icon1"></i>
                </div>
                <div class="mt-4 mt-md-0 ms-md-1 reg-password-container">
                    <label for="id_password2" class="form-label">Re-enter Password</label>
                    <input type="password" name="password2" class="form-control" id="id_password2" placeholder="Re-enter password">
                    <i class="bi bi-eye-fill toggle-password-icon2"></i>
                </div>
            </div>

            <div class="mt-3">
                <ul class="">
                    <li class="text-muted">Password shoud not be similar to username</li>
                    <small class="form-text text-muted">Password must contain:</small>
                    <li class="text-muted">At least 8 characters</li>
                    <li class="text-muted">At least one uppercase letter (A-Z)</li>
                    <li class="text-muted">At least one lowercase letter (a-z)</li>
                    <li class="text-muted">At least one number (0-9)</li>
                    <li class="text-muted">At least one special character (e.g., !@#$%*)</li>
                </ul>
            </div>

            <div class="d-flex justify-content-center">
                <button type="submit" class="btn btn-primary w-100 mt-3">Register</button>
            </div>

            <div class="mt-4 text-center">
                <span>Back to <a href="/auth/login/">Login</a>.</span>
            </div>

        </div>
    </form>


    <script>

        function togglePasswordVisibility(toggleElement, passwordInput) {
            let holdTimer;
        
            toggleElement.addEventListener('mousedown', function () {
                holdTimer = setTimeout(function () {
                    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordInput.setAttribute('type', type);
                }, 100); // Shorter delay for faster response
            });
        
            toggleElement.addEventListener('mouseup', function () {
                clearTimeout(holdTimer);
                passwordInput.setAttribute('type', 'password');
            });
        }
        
        const togglePasswordOne = document.querySelector('.toggle-password-icon1');
        const togglePasswordTwo = document.querySelector('.toggle-password-icon2');
        const passwordInputOne = document.querySelector('#id_password1');
        const passwordInputTwo = document.querySelector('#id_password2');
        
        togglePasswordVisibility(togglePasswordOne, passwordInputOne);
        togglePasswordVisibility(togglePasswordTwo, passwordInputTwo);
        

    </script>

{% endblock content %} {% endcomment %}